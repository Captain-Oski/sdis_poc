<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>SDIS - POC</title>
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/maplibre-gl@3.0.0/dist/maplibre-gl.css" />
  <link rel="stylesheet" type="text/css" href="./app.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://unpkg.com/maplibre-gl@3.0.0/dist/maplibre-gl.js"></script>


</head>
<body>

  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top ">
    <h1 class="navbar-brand " href="#" style="margin-left: 1rem;">Indices d'équité des milieux de vie - 2023   </h1>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
      aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="./index.html">H3</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./dotdensity.html">Densité de points</a>
        </li>
      </ul>
    </div> -->

  </nav>
  <div id="infos">
    <h4 id="pop2021"></h4>
    <h4 id="pop2021Pct"></h4>
    <h4 id="qty"></h4>
  </div>
  <div id="kpis">
    <span class="h5" id="acp_proximite"> </span> | 
    <span class="h5" id="acp_econo"> </span> | 
    <span class="h5" id="acp_enviro"> </span> | 
    <span class="h5" id="acp_sociale"> </span> | 
    <span class="h5" id="acp_cultsportloisir"> </span> | 
    <span class="h5" id="acp_securite"> </span>
  </div>
  <div id="map"></div>

  <main role="main" class="container">

    <div id="menu">
      <div id="boite">

        <div class="container mb-3" id="Title">
          <h2 class="mb-3" >  Méthode d’agrégation  </h2>
          <p class="h7"> Les 6 indices obtenus sont agrégés en un seul indice de la manière suivante : </p> 
           <ul>
            <li class="h7">
              Transformation des indices en quintiles par dimensions
            </li>
            <li class="h7">
              L’indice d’équité des milieux de vie est obtenu par la sommes des scores obtenus ( 0 ou 1) et agrégé pour donner un score entre 0 et 6
            </li>
            <li class="h7">
              Un score de 6 est un secteur à la vulnérabilité maximale
            </li>
           </ul>
        </div>
      
        <div class="accordion" id="accordionExample">
          
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading5">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5" aria-expanded="false" aria-controls="collapse5">
                <div class="h4">Indices</div> 
              </button>
            </h2>
            <div id="collapse5" class="accordion-collapse collapse show" aria-labelledby="heading5" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                <div id="indexesComponent"></div>
                
                <!-- <div class="form-check">
                  
                  <input class="form-check-input" type="checkbox" value="" id="legend1" checked >
                  <label class="form-check-label" for="flexCheckDefault">
                     Non vulnérable (0,1,2)
                     <div class='box legend1'></div>
                  </label>
                  
                  
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="legend2" checked >
                  <label class="form-check-label" for="flexCheckChecked">
                    Vulnérable non prioritaire (3)
                    <div class='box legend2'></div>

                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="legend3" checked > 
                  <label class="form-check-label" for="flexCheckChecked">
                    Vulnérable et prioritaire (4,5,6)
                    <div class='box legend3'></div>
                  </label>
                </div> -->

              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                <div class="h4">Vulnérabilités</div>  
              </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" checked>
                  <label class="form-check-label" for="flexSwitchCheckDefault">Culture, Sports et Loisirs</label>
                </div>
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckCheckedt" checked>
                  <label class="form-check-label" for="flexSwitchCheckChecked">Ressources de proximité</label>
                </div>
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDisabledt" checked>
                  <label class="form-check-label" for="flexSwitchCheckDisabled">Sécurité Urbaine</label>
                </div>
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckCheckedDisabledt" checked>
                  <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">Environnemental</label>
                </div>
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckCheckedDisabledt" checked>
                  <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">Économique</label>
                </div>
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckCheckedDisabledt" checked>
                  <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">Social</label>
                </div>
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingThree">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                <div class="h4">Filtrer par arrondissement</div>  
              </button>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                <div id="dynamicComponentsContainer"></div>
        <!-- <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked" >
            Tous les arrondissements
          </label>
        </div> -->
        <!-- <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Ahuntsic-Cartierville
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Anjou
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            
            Côte-des-Neiges-Notre-Dame-de-Grâce
           
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Lachine
            
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            LaSalle
            </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Le Plateau-Mont-Royal
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Le Sud-Ouest
             
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            L'Île-Bizard-Sainte-Geneviève
            
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Mercier-Hochelaga-Maisonneuve
            </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Montréal-Nord  
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Outremont
            
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Pierrefonds-Roxboro
           
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Rivière-des-Prairies-Pointe-aux-Trembles
           
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Rosemont-La Petite-Patrie
           
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Saint-Laurent
           
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Saint-Léonard
            
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Verdun
           
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Ville-Marie
            
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" onchange="filtrerParArrondissement()">
          <label class="form-check-label" for="flexCheckChecked">
            Villeray-Saint-Michel-Parc-Extension
            
          </label>
        </div> -->
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="heading4">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                <div class="h4">Méthode comparative</div> 
              </button>
            </h2>
            <div id="collapse4" class="accordion-collapse collapse" aria-labelledby="heading4" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
                  <label class="form-check-labe h5" for="exampleRadios1">
                    Île de Montréal
                  </label>
                  <p class="mt-2">La comparaison statisique est faite en fonciton de tous les hexagones de l’Île</p>

                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
                  <label class="form-check-label h5" for="exampleRadios2">
                    Arrondissements sélectionnés
                  </label>
                  <p class="mt-2">La comparaison statisique est faite en fonction de la sommes des scores des hexagones dans les arrondissements sélectionnés</p>
                </div>
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                <div class="h4">Représentation spatiale</div> 
              </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                  <!-- <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="switchDA" onchange="toggleLayerVisibility('da_data')">
                  <label class="form-check-label" for="switchDA">Aire de diffusion</label>
                </div>
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="switchHEX" checked onchange="toggleLayerVisibility('hex_data')">
                  <label class="form-check-label" for="switchHEX">Grille hexagonale</label>
                </div> -->
                <div class="form-check">
                  <input class="form-check-input repRadios" type="radio" name="repSpatRadio" id="exampleRadios3" value="hex_data" checked> 
                  <label class="form-check-labe h5" for="exampleRadios3">
                    Grille hexagonale (400m)
                  </label>
                  <!-- <p class="mt-2">La comparaison statisique est faite en fonciton de tous les hexagones de l’Île</p> -->

                </div>
                <div class="form-check">
                  <input class="form-check-input repRadios" type="radio" name="repSpatRadio" id="exampleRadios4" value="da_data">
                  <label class="form-check-label h5" for="exampleRadios4">
                    Aires de diffusion
                  </label>
                  <!-- <p class="mt-2">La comparaison statisique est faite en fonction de la sommes des scores des hexagones dans les arrondissements sélectionnés</p> -->
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


<!-- ================================================== -->
<script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/Turf.js/6.5.0/turf.min.js"></script>
<link href='https://watergis.github.io/maplibre-gl-legend/maplibre-gl-legend.css' rel='stylesheet' />
<script src="https://watergis.github.io/maplibre-gl-legend/maplibre-gl-legend.js"></script>
<!-- ================================================== -->

<!-- ================================================== -->

<script type='text/javascript' src="./app.js"></script>

<script type='text/javascript' src="./filter.js"></script>
<script type='text/javascript' src="./store.js"></script>
<script type='text/javascript' src="./boroughsComponent.js"></script>
<script type='text/javascript' src="./indexesComponent.js"></script>

<script type='text/javascript' src="./kpi.js"></script>


</body>

</html>